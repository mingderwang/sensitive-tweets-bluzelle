{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/mingderwang/2020/HACK_HERE/sensitive-tweets-bluzelle/expo/App.tsx\";\nimport React, { useCallback, useState } from 'react';\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Constants from 'expo-constants';\nimport AssetExample from \"./components/AssetExample\";\nimport { Card } from 'react-native-paper';\nimport { bluzelle } from 'bluzelle/lib/bluzelle-js';\n\nvar config = require(\"./blz-config.js\");\n\nvar gas_params = {\n  'gas_price': '10.0'\n};\nvar link;\nexport default function App() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      tweet = _useState2[0],\n      setTweet = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var openlink = useCallback(function () {\n    Linking.openURL(link);\n  }, []);\n  var play = useCallback(function () {\n    setTweet('undefined');\n    bluzelle({\n      mnemonic: config.mnemonic,\n      endpoint: config.endpoint,\n      uuid: \"demo-d\",\n      chain_id: config.chain_id\n    }).then(function (t) {\n      t.count().then(function (count) {\n        alert(count);\n        t.getNShortestLeases(count, gas_params).then(function (id) {\n          t.read(id[count - 1].key, gas_params).then(function (res) {\n            var result = typeof res != 'undefined' ? res : \"data retrive fail on read\";\n            var ok = result.substr(1, result.length - 1);\n            alert(ok);\n            setTweet(ok);\n            link = ok.substr(ok.lastIndexOf(\"https://t.co\"));\n          }).catch(function (error) {\n            alert(error);\n          });\n        }).catch(function (error) {\n          alert(error);\n        });\n      });\n    }).catch(function (error) {\n      alert(error);\n    });\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, tweet !== 'undefined' ? React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    onPress: openlink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDC24 \", tweet, \"  \\uD83D\\uDC48 (click)\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \" \"), React.createElement(Button, {\n    title: \"To get the latest sensitive tweet in bluzelle blockchain DB \",\n    onPress: play,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \" \"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"copyright \\xA92020 MING\\xD0ER \\uD83E\\uDDD8\\u200D\\u2640\\uFE0F\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"chain-id: bluzelleTestPublic-1\")) : React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.paragraph,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Sensitive Tweets are stored on bluzelle TestNet DB: demo-d\"), React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, React.createElement(AssetExample, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n    padding: 8\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/mingderwang/2020/HACK_HERE/sensitive-tweets-bluzelle/expo/App.tsx"],"names":["React","useCallback","useState","Constants","AssetExample","Card","bluzelle","config","require","gas_params","link","App","tweet","setTweet","loading","setLoading","error","setError","openlink","Linking","openURL","play","mnemonic","endpoint","uuid","chain_id","then","t","count","alert","getNShortestLeases","id","read","key","res","result","ok","substr","length","lastIndexOf","catch","styles","container","title","paragraph","StyleSheet","create","flex","justifyContent","paddingTop","statusBarHeight","backgroundColor","padding","margin","fontSize","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Linking, Text, View, StyleSheet, ActivityIndicator, Button} from 'react-native';\nimport Constants from 'expo-constants';\n\n// You can import from local files\nimport AssetExample from './components/AssetExample';\n\n// or any pure javascript modules available in npm\nimport { Card } from 'react-native-paper';\n\n// bluzelle\nimport { bluzelle } from 'bluzelle/lib/bluzelle-js'\nconst config = require('./blz-config.js')\nconst gas_params = {'gas_price': '10.0'};\nvar link;\n\nexport default function App() {\n  const [tweet, setTweet] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  const openlink = useCallback(() => {\n    Linking.openURL(link)\n  },[])\n  const play = useCallback(() => {\n    setTweet('undefined')\n        bluzelle({\n          mnemonic: config.mnemonic,\n          endpoint: config.endpoint,\n          uuid: \"demo-d\",\n          chain_id: config.chain_id\n        }).then((t) => {\n          t.count()\n          .then(\n            (count) => {\n              alert(count)\n              t.getNShortestLeases(count, gas_params)\n              .then((id) => {\n                t.read(id[count-1].key, gas_params)\n                .then(\n                (res) => {\n                  let result = (typeof res != 'undefined' ? res : \"data retrive fail on read\")\n                  let ok = result.substr(1,result.length-1)\n                  alert(ok)\n                  setTweet(ok)\n                  link = ok.substr(ok.lastIndexOf(\"https://t.co\"))\n                })\n                .catch(error => { alert(error) });\n              })\n              .catch(error => { alert(error) });\n            })\n        }).catch(error => { alert(error) });\n  },[]);\n  \n  return (\n  <View style={styles.container}>\n      {tweet !== 'undefined' ? (\n        <View>\n          <Text style={styles.title}\n          onPress={\n            openlink\n          }\n          >🐤 {tweet}  👈 (click)\n          </Text>\n          <Text> </Text>\n          <Button title=\"To get the latest sensitive tweet in bluzelle blockchain DB \" onPress={play} />\n          <Text> </Text>\n          <Text>copyright ©2020 MINGÐER 🧘‍♀️</Text>\n          <Text>chain-id: bluzelleTestPublic-1</Text>\n        </View>\n      ) : (\n    <View style={styles.container}>\n      <Text style={styles.paragraph}>\n      Sensitive Tweets are stored on bluzelle TestNet DB: demo-d\n      </Text>\n      <Card>\n        <AssetExample />\n      </Card>\n    </View>\n      )}\n  </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n    padding: 8,\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n});\n     \n"]},"metadata":{},"sourceType":"module"}